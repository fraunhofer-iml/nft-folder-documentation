<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.20">
<meta name="copyright" content="Apache-2.0">
<title>Software Documentation for the NFT-Folder</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Software Documentation for the NFT-Folder</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#section-preface">Preface</a>
<ul class="sectlevel2">
<li><a href="#_motivation">Motivation</a></li>
<li><a href="#_main_authors">Main Authors</a></li>
</ul>
</li>
<li><a href="#chapter-building-block-view">1. Components of the NFT-Folder</a>
<ul class="sectlevel2">
<li><a href="#_overview">1.1. Overview</a></li>
<li><a href="#_project_specific_blockchain_connector">1.2. Project-specific Blockchain Connector</a></li>
<li><a href="#_blockchain_connector_library">1.3. Blockchain Connector Library</a>
<ul class="sectlevel3">
<li><a href="#_overview_2">1.3.1. Overview</a></li>
<li><a href="#_details">1.3.2. Details</a></li>
<li><a href="#_error_handling">1.3.3. Error Handling</a></li>
</ul>
</li>
<li><a href="#_smart_contracts">1.4. Smart Contracts</a>
<ul class="sectlevel3">
<li><a href="#_overview_3">1.4.1. Overview</a></li>
<li><a href="#_details_2">1.4.2. Details</a></li>
<li><a href="#_error_handling_2">1.4.3. Error Handling</a></li>
<li><a href="#_testability">1.4.4. Testability</a></li>
<li><a href="#_events">1.4.5. Events</a></li>
</ul>
</li>
<li><a href="#_ethereum_based_blockchain">1.5. Ethereum-Based Blockchain</a></li>
</ul>
</li>
<li><a href="#chapter-runtime-view">2. Runtime View</a>
<ul class="sectlevel2">
<li><a href="#_general_component_communication">2.1. General Component Communication</a></li>
<li><a href="#_use_cases_and_process_information">2.2. Use Cases and process information</a>
<ul class="sectlevel3">
<li><a href="#_use_case_1_mint_token">2.2.1. Use Case 1 - Mint Token</a></li>
<li><a href="#_use_case_2_update_token">2.2.2. Use Case 2 - Update Token</a></li>
<li><a href="#_use_case_3_burn_token">2.2.3. Use Case 3 - Burn Token</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#chapter-deployment-view">3. Deployment View</a>
<ul class="sectlevel2">
<li><a href="#_deployment_of_the_nft_folder">3.1. Deployment of the NFT-Folder</a>
<ul class="sectlevel3">
<li><a href="#_blockchain_connector">3.1.1. Blockchain Connector</a></li>
<li><a href="#_smart_contracts_2">3.1.2. Smart Contracts</a></li>
<li><a href="#_hyperledger_besu_blockchain">3.1.3. Hyperledger Besu Blockchain</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#chapter-tutorial">4. Tutorial</a>
<ul class="sectlevel2">
<li><a href="#_install_the_tools">4.1. Install the Tools</a>
<ul class="sectlevel3">
<li><a href="#_git">4.1.1. Git</a></li>
<li><a href="#_docker">4.1.2. Docker</a></li>
<li><a href="#_node_js">4.1.3. Node.js</a></li>
</ul>
</li>
<li><a href="#_clone_the_repositories">4.2. Clone the Repositories</a></li>
<li><a href="#_set_up_all_components">4.3. Set up all Components</a>
<ul class="sectlevel3">
<li><a href="#_start_the_blockchain_network">4.3.1. Start the Blockchain Network</a></li>
</ul>
</li>
<li><a href="#_deploy_the_smart_contracts">4.4. Deploy the Smart Contracts</a>
<ul class="sectlevel3">
<li><a href="#_start_the_blockchain_connector">4.4.1. Start the Blockchain Connector</a></li>
</ul>
</li>
<li><a href="#_test_communication_between_the_blockchain_connector_and_the_smart_contracts">4.5. Test Communication between the Blockchain Connector and the Smart Contracts</a>
<ul class="sectlevel3">
<li><a href="#_mint_a_token">4.5.1. Mint a Token</a></li>
<li><a href="#_fetch_a_token">4.5.2. Fetch a Token</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="section-preface">Preface</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_motivation">Motivation</h3>
<div class="paragraph">
<p>An NFT, short for "Non-Fungible Token", refers to a unique digital token on the blockchain that usually represents a digital or physical asset. The blockchain enables secure and transparent tracking of ownership and the trading of the NFT.</p>
</div>
<div class="paragraph">
<p>The NFT-Folder enables the tokenization and secure management of assets as NFTs on the blockchain and ensures traceable documentation. It consists of a Blockchain Connector and three Smart Contracts: Token, Segment, and Container. The Blockchain Connector acts as an interface between the application and the blockchain. The Token Smart Contract is responsible for the minting and burning of NFTs, while Segment and Container efficiently structure the NFTs.</p>
</div>
<div class="paragraph">
<p>The Token Smart Contract is based on the ERC-721 standard, which governs the minting, ownership, and transfer of NFTs on an Ethereum-based blockchain. By extending this standard, industrial tokenization of assets is made possible, where additional essential information such as an identifier and fingerprint can be stored for each asset.</p>
</div>
</div>
<div class="sect2">
<h3 id="_main_authors">Main Authors</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">E-Mail</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Lukas Grieger</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="mailto:lukas.grieger@iml.fraunhofer.de">lukas.grieger@iml.fraunhofer.de</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Michael Pichura</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="mailto:michael.pichura@iml.fraunhofer.de">michael.pichura@iml.fraunhofer.de</a></em></p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="chapter-building-block-view">1. Components of the NFT-Folder</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter describes the individual components of the NFT-Folder and their functions.</p>
</div>
<div class="sect2">
<h3 id="_overview">1.1. Overview</h3>
<div class="paragraph">
<p>The NFT-Folder includes three Smart Contracts — Container, Segment, and Token — and a NestJS library called the Blockchain Connector.
These smart contracts are designed to operate on an Ethereum-based blockchain.
The Blockchain Connector is tailored to execute their functions, simplifying the integration of web applications with the blockchain by seamlessly integrating into project-specific microservices.</p>
</div>
<div class="paragraph">
<p><strong>Components Overview</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Container Smart Contract</strong>: Acts as the central hub for an organization, managing its Segments and Tokens. Each Container is owned by a single organization.</p>
</li>
<li>
<p><strong>Segment Smart Contract</strong>: Allows for the logical division of NFTs within a Container, linking each NFT to a specific Segment.</p>
</li>
<li>
<p><strong>Token Smart Contract</strong>: Adheres to the ERC-721 standard for NFTs on Ethereum, enabling the tokenization of assets with additional metadata, such as identifiers and fingerprints.</p>
</li>
<li>
<p><strong>Blockchain Connector Library</strong>: A NestJS module that bridges applications and smart contracts. It can be integrated into other NestJS projects as an npm package, offering modules for straightforward import and interaction with smart contracts. The Blockchain Connector can also be used as a standalone service, providing flexible deployment options.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/components-whitebox.svg" alt="NFT-Folder components">
</div>
</div>
<div class="paragraph">
<p>There are the following components with its responsibilities:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Status</th>
<th class="tableblock halign-left valign-top">Responsibility / Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Project-specific Blockchain Connector Service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Custom Development</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifically developed for each project using the NFT-Folder to facilitate decoupling by transforming project-specific data into data compatible with the Blockchain Connector.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Blockchain Connector Library</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Part of the NFT-Folder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Offers functions for the execution of smart contract functions on the blockchain.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Container, Segment and Token Smart Contracts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Part of the NFT-Folder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provide the functions for the tokenization and storage of Real-World Assets.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ethereum-based Blockchain</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Blockchain Platform</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Serves as a decentralized ledger storing information on Tokens, Segments, and Containers.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_project_specific_blockchain_connector">1.2. Project-specific Blockchain Connector</h3>
<div class="paragraph">
<p>The Project-specific Blockchain Connector is a custom-developed web service that bridges a project&#8217;s logic with the Blockchain Connector library.
Requests from this connector are sent to the Blockchain Connector library, which then forwards them to the corresponding smart contract on the blockchain.
If a project only intends to manage tokens without organizing them into segments and containers, this project-specific Blockchain Connector will implement only the necessary token management functions.</p>
</div>
</div>
<div class="sect2">
<h3 id="_blockchain_connector_library">1.3. Blockchain Connector Library</h3>
<div class="sect3">
<h4 id="_overview_2">1.3.1. Overview</h4>
<div class="paragraph">
<p>The Blockchain Connector library, available as an npm package, provides a suite of functions that can be integrated into a project-specific Blockchain Connector.
Built with NestJS and TypeScript, it facilitates blockchain access and supports the following functionalities:</p>
</div>
<div class="paragraph">
<p><strong>Segment Management</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create a Segment</p>
</li>
<li>
<p>Read Segments</p>
</li>
<li>
<p>Add a Token to a Segment</p>
</li>
<li>
<p>Remove a Token from a Segment</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Token Management</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Mint a Token</p>
</li>
<li>
<p>Read a Token</p>
</li>
<li>
<p>Retrieve all Tokens of a Segment</p>
</li>
<li>
<p>Update a Token</p>
</li>
<li>
<p>Burn a Token</p>
</li>
<li>
<p>Transfer a Token</p>
</li>
<li>
<p>Retrieve all previous transfer events</p>
</li>
<li>
<p>Establish hierarchical relationships between tokens</p>
</li>
<li>
<p>Retrieve a token&#8217;s parents or children in the hierarchy</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Data Integrity</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Calculate a hash for a file or string</p>
</li>
<li>
<p>Verify a hash for a file or string</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This library is designed to be integrated into a project-specific Blockchain Connector, enabling seamless interaction with the blockchain.</p>
</div>
</div>
<div class="sect3">
<h4 id="_details">1.3.2. Details</h4>
<div class="paragraph">
<p>The Blockchain Connector is a single npm library designed for integration into another Node.js project.
While it is primarily intended to be used as a library by sending requests to the service layer, it can also be used as a standalone microservice.
In this case, the endpoints must be activated through the .env file by setting BCC_ENDPOINTS_ENABLED=true.
Activating the predefined endpoints facilitates RESTful API communication using JSON for data transfer.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Component Collection</th>
<th class="tableblock halign-left valign-top">Component</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Data Integrity Management</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data Integrity Controller</p>
<p class="tableblock">(can be activated or deactivated as needed)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides REST endpoints to hash strings or documents.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data Integrity Service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Offers functions for hashing strings or documents.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Segment Management</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Segment Controller</p>
<p class="tableblock">(can be activated or deactivated as needed)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides REST endpoints for communication with the Blockchain Connector. Invokes Segment Service to execute Smart Contract functions. More details in the Swagger API documentation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Segment Service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Utilizes Smart Contracts to manage Segments, relying on the Blockchain Service to create and send transaction objects.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Token Management</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Token Controller</p>
<p class="tableblock">(can be activated or deactivated as needed)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides REST endpoints for communication with the Blockchain Connector. Invokes Token Service to execute Smart Contract functions. More details in the Swagger API documentation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Token Service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uses Smart Contracts to manage Tokens, relying on the Blockchain Service to create and send transaction objects.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Event Service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Retrieves blockchain events related to a specific Token.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Blockchain Service</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Implements core functionalities for blockchain interaction, such as transaction handling. Utilized by other services to create and send transaction objects.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ethers Service</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Establishes a blockchain connection for use by the Blockchain Service.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_error_handling">1.3.3. Error Handling</h4>
<div class="paragraph">
<p>The Blockchain Connector features a standardized error handling mechanism that provides descriptive error messages.
This system is consistently applied across all controllers within the Blockchain Connector.
Additionally, custom errors thrown by the smart contracts are displayed through the Blockchain Connector, ensuring clear communication of issues.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_smart_contracts">1.4. Smart Contracts</h3>
<div class="sect3">
<h4 id="_overview_3">1.4.1. Overview</h4>
<div class="paragraph">
<p>The Smart Contracts within the NFT-Folder provide essential functions for storing and retrieving data on the blockchain:</p>
</div>
<div class="paragraph">
<p><strong>Container</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create a Segment</p>
</li>
<li>
<p>Read Segments associated with the Container</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Segment</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add a Token to a Segment</p>
</li>
<li>
<p>Remove a Token from a Segment</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Token</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Mint a Token</p>
</li>
<li>
<p>Read a Token</p>
</li>
<li>
<p>Update a Token</p>
</li>
<li>
<p>Transfer a Token</p>
</li>
<li>
<p>Burn a Token</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>TokenDataStorage</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Set and read additional data to a Token</p>
</li>
<li>
<p>Set and read the Hash and URI of the asset to a Token</p>
</li>
<li>
<p>Set and read the Hash and URI of the metadata to a Token</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>TokenExtensionBase</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Provides frequently used functions</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>TokenHierarchy</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add a Token to a hierarchy</p>
</li>
<li>
<p>Read parent or child Tokens of a Token</p>
</li>
<li>
<p>Confirm a Token as child Token</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>TokenRemoteId</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Set the remote ID to a Token</p>
</li>
<li>
<p>Return IDs of Tokens with a specific remote ID</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>TokenSegmentAllocation</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add a Token to a Segment</p>
</li>
<li>
<p>Read the Segment of a Token</p>
</li>
<li>
<p>Remove a Token from a Segment</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_details_2">1.4.2. Details</h4>
<div class="paragraph">
<p>The Smart Contracts within the NFT-Folder encapsulate the core functionalities of the system, managing Containers, Segments, and Tokens.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Smart Contract</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Container</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Each organization using the NFT-Folder may deploy a Container contract instance on the blockchain. Such an instance creates new Segments, automatically associating them with the Container, and retrieves all Segments it owns.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Segment</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Deployed via the Container contract, the Segment contract is tied to the organization owning the Container. It manages the addition and removal of Tokens from the Segment.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Token</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Implements the ERC-721 standard, providing functions for the entire lifecycle of NFTs. It includes additional features through four extension contracts.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TokenDataStorage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extends the Token contract by allowing the definition and retrieval of the hash and URI of an asset and its metadata.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TokenRemoteId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extends the Token contract by managing a specific identifier for an asset, uniquely identifying it within an external system, such as a database.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TokenSegmentAllocation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extends the Token contract by allowing Tokens to be assigned to or removed from Segments. Tokens can belong to multiple Segments as needed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TokenHierarchy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extends the Token contract, providing functions to designate Tokens as the root of a new hierarchy or append them as leaves in an existing hierarchy.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_error_handling_2">1.4.3. Error Handling</h4>
<div class="paragraph">
<p>Custom errors are utilized within the Smart Contracts to validate inputs.
If an input is incorrect, a corresponding custom error is generated, ensuring accurate error reporting.</p>
</div>
</div>
<div class="sect3">
<h4 id="_testability">1.4.4. Testability</h4>
<div class="paragraph">
<p>Smart Contract tests are named identically to their respective Smart Contract files, with the addition of a .test suffix.
These test files are designed to verify the behavior and functionality of the Smart Contracts, ensuring their reliability.</p>
</div>
</div>
<div class="sect3">
<h4 id="_events">1.4.5. Events</h4>
<div class="paragraph">
<p>Events are emitted by certain smart contract functions on the blockchain.
They serve as a historical record, providing insights into transactions and are used across all Smart Contracts within the NFT-Folder.</p>
</div>
<div class="paragraph">
<p>The Blockchain Connector reads these events to gather metadata related to tokens.
For example, it can access all events associated with a specific token to extract information from the initial event, such as the token&#8217;s creation timestamp.
Additionally, the Blockchain Connector can retrieve all past transfers of a token, offering comprehensive historical data.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_ethereum_based_blockchain">1.5. Ethereum-Based Blockchain</h3>
<div class="paragraph">
<p>While the smart contracts can be deployed on any Ethereum-based blockchain, we&#8217;ve tested them on the Hyperledger Besu Blockchain.</p>
</div>
<div class="paragraph">
<p>The Hyperledger Besu Blockchain is an enterprise-focused blockchain platform built on the Ethereum protocol.
It is designed to deliver high throughput and enhanced performance for businesses and financial institutions.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="chapter-runtime-view">2. Runtime View</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter visualizes the dynamic aspects of the NFT-Folder, focusing on how components interact and perform their roles at runtime.</p>
</div>
<div class="sect2">
<h3 id="_general_component_communication">2.1. General Component Communication</h3>
<div class="paragraph">
<p>Communication between the project-specific Blockchain Connector and the Blockchain Connector library is achieved through direct calls to the service layer functions.
The Blockchain Connector library communicates with the blockchain via the ethers library, which uses an RPC endpoint for sending transactions and performing read operations.</p>
</div>
<div class="paragraph">
<p>The following diagram illustrates the interactions between the components of the NFT-Folder:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/component-communication.svg" alt="BC-Connector Communication">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The <strong>external project</strong> using the NFT-Folder must develop a project-specific Blockchain Connector, customized to its unique use case and functionality.</p>
</li>
<li>
<p>The <strong>project-specific Blockchain Connector</strong> sends requests to the service layer functions of the Blockchain Connector library.</p>
</li>
<li>
<p>The <strong>Blockchain Connector library</strong> uses the ethers library to establish a connection to the blockchain, send transaction and read data.</p>
</li>
<li>
<p>The <strong>Blockchain</strong> is accessed via JSON-RPC.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_use_cases_and_process_information">2.2. Use Cases and process information</h3>
<div class="sect3">
<h4 id="_use_case_1_mint_token">2.2.1. Use Case 1 - Mint Token</h4>
<div class="imageblock">
<div class="content">
<img src="images/mint-token.svg" alt="Mint Token">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_use_case_2_update_token">2.2.2. Use Case 2 - Update Token</h4>
<div class="imageblock">
<div class="content">
<img src="images/update-token.svg" alt="Update Token">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_use_case_3_burn_token">2.2.3. Use Case 3 - Burn Token</h4>
<div class="imageblock">
<div class="content">
<img src="images/burn-token.svg" alt="Burn Token">
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="chapter-deployment-view">3. Deployment View</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter outlines the deployment of the NFT-Folder, detailing the technical infrastructure required to run the project and all necessary infrastructure elements.</p>
</div>
<div class="sect2">
<h3 id="_deployment_of_the_nft_folder">3.1. Deployment of the NFT-Folder</h3>
<div class="paragraph">
<p>The deployment process for the individual components of the NFT-Folder varies.
Below, we provide a brief explanation of how to deploy each component.</p>
</div>
<div class="sect3">
<h4 id="_blockchain_connector">3.1.1. Blockchain Connector</h4>
<div class="paragraph">
<p>Since the project-specific Blockchain Connector is deployed within the context of the external project utilizing the NFT-Folder, detailed discussion regarding it will not be provided here.
However, it&#8217;s crucial to note that the project-specific blockchain connector must be a Node.js project, so that the Blockchain Connector library can be imported.</p>
</div>
<div class="paragraph">
<p>As a NestJS library, the Blockchain Connector is used within the project-specific Blockchain Connector.
Instructions for importing modules can be found in the <a href="https://docs.nestjs.com/">NestJS documentation</a>.
A tutorial demonstrating how to launch a project-specific Blockchain Connector locally is available in <a href="#chapter-tutorial">Tutorial</a>.</p>
</div>
<div class="paragraph">
<p>The following parameters must be configured in the .env file of the project-specific blockchain connector, with guidance available in the .env.example file:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>BCC_ENDPOINTS_ENABLED</strong>: Set to true to activate the endpoints (e.g., TokenController, SegmentController) of the Blockchain Connector library. The Swagger documentation under '/api' will include these endpoints.</p>
</li>
<li>
<p><strong>BCC_BLOCKCHAIN_URL</strong>: The URL of the blockchain where the NFT-Folder&#8217;s Smart Contracts are deployed. This blockchain must be accessible from the machine hosting the Blockchain Connector.</p>
</li>
<li>
<p><strong>BCC_BLOCK_TIME</strong>:  Specifies the block time of the blockchain in use.</p>
</li>
<li>
<p><strong>BCC_PRIVATE_KEY</strong>: The private key for signing transactions on the blockchain.</p>
</li>
<li>
<p><strong>BCC_CONTAINER_ADDRESS</strong>: The address of the deployed Container contract. Each external project maintains its own instance, so this can be permanently stored.</p>
</li>
<li>
<p><strong>BCC_TOKEN_ADDRESS</strong>: The address of the deployed Token contract.</p>
</li>
<li>
<p><strong>BCC_CONTAINER_ABI_PATH</strong>: Path to the ABI of the Container Smart Contract.</p>
</li>
<li>
<p><strong>BCC_SEGMENT_ABI_PATH</strong>: Path to the ABI of the Segment Smart Contract.</p>
</li>
<li>
<p><strong>BCC_TOKEN_ABI_PATH</strong>: Path to the ABI of the Segment Smart Contract.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>More information on solidity ABI can be found in the <a href="https://docs.soliditylang.org/en/latest/abi-spec.html/">Soldity ABI documentation</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_smart_contracts_2">3.1.2. Smart Contracts</h4>
<div class="paragraph">
<p>The Smart Contracts are deployed on the blockchain using Hardhat, with deployment scripts included in the Smart Contract project.
It&#8217;s important to configure the necessary entries in the .env file, using the .env.example file as a guide.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>DEV_NODE_URL</strong>: The URL of the blockchain where the Smart Contracts will be deployed.</p>
</li>
<li>
<p><strong>DEV_MNEMONIC</strong>: The mnemonic providing the private key for deploying the Smart Contracts.</p>
</li>
<li>
<p><strong>DEV_INITIAL_ADDRESS_INDEX</strong>: The index of the derived account from the mnemonic to be used for deployment.</p>
</li>
<li>
<p><strong>TOKEN_NAME</strong>: The name of the token.</p>
</li>
<li>
<p><strong>TOKEN_SYMBOL</strong>: The symbol of the token.</p>
</li>
<li>
<p><strong>CONTAINER_NAME</strong>: The name of the container.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>After configuring these details in the .env file, you can execute the deployment scripts using Hardhat.
Once deployed, you must enter the blockchain addresses of the Smart Contracts into the .env file of the Blockchain Connector.
This ensures that the Blockchain Connector can send transactions to the appropriate smart contracts.</p>
</div>
</div>
<div class="sect3">
<h4 id="_hyperledger_besu_blockchain">3.1.3. Hyperledger Besu Blockchain</h4>
<div class="paragraph">
<p>A Hyperledger Besu network consists of multiple nodes operating in a decentralized manner on separate servers.
A minimum of three nodes is required to initialize the Hyperledger Besu Blockchain.
These nodes can be started on one server and expanded with additional nodes on different servers.
Additionally, it is possible to run a Hyperledger Besu node within a Kubernetes environment.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="chapter-tutorial">4. Tutorial</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter provides a detailed, step-by-step guide for setting up the components of the NFT-Folder.
It is designed to ensure a smooth installation process, even for users with limited prior experience.
By carefully following the instructions, you will have the application running quickly and reliably.</p>
</div>
<div class="paragraph">
<p>Proper preparation of your environment is crucial for a successful installation and use of the NFT-Folder.
The following sections outline all necessary prerequisites, installation steps, and configuration instructions.
The commands in this guide have been tested on Ubuntu 24.04.1 LTS, but adjustments may be required for other operating systems.</p>
</div>
<div class="paragraph">
<p>For simplicity, this tutorial will start the Blockchain Connector as a microservice rather than integrating it into an existing application as a library.</p>
</div>
<div class="sect2">
<h3 id="_install_the_tools">4.1. Install the Tools</h3>
<div class="paragraph">
<p>This section explains how to install the required tools to ensure a smooth setup process.</p>
</div>
<div class="sect3">
<h4 id="_git">4.1.1. Git</h4>
<div class="paragraph">
<p>Git is essential for version control and for cloning the required repositories from GitHub.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Visit</strong> <a href="https://git-scm.com/downloads">Git&#8217;s official website</a>.</p>
</li>
<li>
<p><strong>Follow</strong> the installation instructions for your operating system.</p>
</li>
<li>
<p><strong>Verify</strong> the installation with the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">git --version</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_docker">4.1.2. Docker</h4>
<div class="paragraph">
<p>Docker is required to manage the blockchain.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Visit</strong> <a href="https://docs.docker.com/get-docker/">Docker&#8217;s official installation guide</a>.</p>
</li>
<li>
<p><strong>Follow</strong> the installation instructions for your operating system.</p>
</li>
<li>
<p><strong>Verify</strong> the installation with following command:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">docker --version</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_node_js">4.1.3. Node.js</h4>
<div class="paragraph">
<p>Node.js is required to manage dependencies and execute application.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Visit</strong> <a href="https://nodejs.org/en/download/">Node.js&#8217;s official website</a>.</p>
</li>
<li>
<p><strong>Follow</strong> the installation instructions for your operating system.</p>
</li>
<li>
<p><strong>Verify</strong> the installation with the following commands:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">node --version
npm --version</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_clone_the_repositories">4.2. Clone the Repositories</h3>
<div class="paragraph">
<p>This section provides instructions for downloading the components of the NFT-Folder from GitHub.</p>
</div>
<div class="paragraph">
<p>All repositories are available under the organization <a href="https://github.com/fraunhofer-iml">Fraunhofer IML</a> on GitHub.
For this tutorial wee need the following three repositories: <a href="https://github.com/fraunhofer-iml/nft-folder-smart-contracts">nft-folder-smart-contracts</a>, <a href="https://github.com/fraunhofer-iml/nft-folder-blockchain-connector">nft-folder-blockchain-connector</a> and <a href="https://github.com/fraunhofer-iml/nft-folder-documentation">nft-folder-documentation</a>.
The <code>nft-folder-documentation</code> project is where you are currently reading this documentation.
The <code>nft-folder-smart-contracts`project contains the smart contracts, and the `nft-folder-blockchain-connector</code> project contains the blockchain connector.</p>
</div>
<div class="paragraph">
<p>Since a blockchain network is required to use the NFT-Folder, we recommend using the <a href="https://github.com/fraunhofer-iml/hyperledger-besu-network-configuration">hyperledger-besu-network-configuration</a> repository from the Fraunhofer GitHub organization instead of the Hardhat network due to custom error issues.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Clone</strong> the <code>nft-folder-smart-contracts</code> repository to your local system:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">git clone git@github.com:fraunhofer-iml/nft-folder-smart-contracts.git</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Clone</strong> the <code>nft-folder-blockchain-connector</code> repository to your local system:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">git clone git@github.com:fraunhofer-iml/nft-folder-blockchain-connector.git</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Clone</strong> the <code>hyperledger-besu-network-configuration</code> repository to your local system:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">git clone git@github.com:fraunhofer-iml/hyperledger-besu-network-configuration.git</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_set_up_all_components">4.3. Set up all Components</h3>
<div class="sect3">
<h4 id="_start_the_blockchain_network">4.3.1. Start the Blockchain Network</h4>
<div class="paragraph">
<p>The blockchain network is started using Docker Compose.
The <code>docker-compose.yml</code> file defines four services, one for each node: <code>alice</code>, <code>bob</code>, <code>carol</code>, and <code>dan</code>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Navigate</strong> to the <code>hyperledger-besu-network-configuration</code> directory:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">cd hyperledger-besu-network-configuration</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Build</strong> the Docker images:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">docker compose build</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Start</strong> the Docker containers:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">docker compose up</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_deploy_the_smart_contracts">4.4. Deploy the Smart Contracts</h3>
<div class="paragraph">
<p>The smart contracts are deployed to the blockchain using Hardhat.
This development environment helps developers manage the lifecycle of their smart contracts and provides a comprehensive environment for compiling, testing and deploying them.</p>
</div>
<div class="paragraph">
<p>While the blockchain network is running, follow these steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Navigate</strong> to the <code>smart-contracts</code> directory:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">cd smart-contracts</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Copy</strong> the <code>.env.example</code> file to <code>.env</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">cp .env.example .env</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Install</strong> the dependencies:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">npm install</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Compile</strong> the smart contracts:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">npm run compile</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Deploy</strong> the Container smart contract to the blockchain network:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">npm run container-deploy-dev</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Deploy</strong> the Token smart contract to the blockchain network:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">npm run token-deploy-dev</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Copy</strong> the addresses of the deployed smart contracts from the terminal output and save them for the next section.</p>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="_start_the_blockchain_connector">4.4.1. Start the Blockchain Connector</h4>
<div class="paragraph">
<p>To start the blockchain connector, perform the following steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Navigate</strong> to the <code>blockchain-connector</code> directory:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">cd ../blockchain-connector</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Rename</strong> the <code>.env.example</code> file to <code>.env</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">mv .env.example .env</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Ensure</strong> that the <code>BCC_CONTAINER_ADDRESS</code> and <code>BCC_TOKEN_ADDRESS</code> values in the <code>.env</code> file are set to the saved addresses of the deployed smart contracts from the previous section.</p>
</li>
<li>
<p><strong>Install</strong> the dependencies:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">npm install</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Start</strong> the blockchain connector:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">npm run start</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_test_communication_between_the_blockchain_connector_and_the_smart_contracts">4.5. Test Communication between the Blockchain Connector and the Smart Contracts</h3>
<div class="paragraph">
<p>To verify that the blockchain connector is successfully communicating with the smart contracts, follow these steps. (Ensure that the <code>BCC_ENDPOINTS_ENABLED</code> flag in the <code>.env</code> file is set to true.)</p>
</div>
<div class="sect3">
<h4 id="_mint_a_token">4.5.1. Mint a Token</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Open</strong> a web browser and navigate to <code><a href="http://localhost:4000/api" class="bare">http://localhost:4000/api</a></code></p>
</li>
<li>
<p><strong>Click</strong> on the <code>POST /tokens</code> endpoint to create a new token</p>
</li>
<li>
<p><strong>Select</strong> <code>false</code> for the parameter <code>appendToHierarchy</code></p>
</li>
<li>
<p><strong>Enter</strong> the following JSON object in the request body:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
    "remoteId": "dummy-1337",
    "asset": {
        "uri": "https://example.com/dummy-1337/image.jpg",
        "hash": "abcdef1234567890"
    },
    "metadata": {
        "uri": "https://example.com/dummy-1337/metadata.json",
        "hash": "1234567890abcdef"
    },
    "additionalData": "Lorem ipsum dolor sit amet",
        "parentIds": [
    ]
}</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Click</strong> on the <code>Try it out</code> button to send the request</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_fetch_a_token">4.5.2. Fetch a Token</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Click</strong> on the <code>GET /tokens</code> endpoint to retrieve the token</p>
</li>
<li>
<p><strong>Enter</strong> the following value in the <code>remoteId</code> field: <code>dummy-1337</code></p>
</li>
<li>
<p><strong>Click</strong> on the <code>Try it out</code> button to send the request</p>
</li>
<li>
<p><strong>Verify</strong> that the response contains a JSON object similar to the following:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">[
    {
        "remoteId": "dummy-1337",
        "asset": {
            "uri": "https://example.com/dummy-1337/image.jpg",
            "hash": "abcdef1234567890"
        },
        "metadata": {
            "uri": "https://example.com/dummy-1337/metadata.json",
            "hash": "1234567890abcdef"
        },
        "additionalData": "Lorem ipsum dolor sit amet",
        "ownerAddress": "0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266",
        "minterAddress": "0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266",
        "createdOn": "2025-01-01T00:13:37.000Z",
        "lastUpdatedOn": "2025-01-01T00:13:37.000Z",
        "tokenId": "0",
        "tokenAddress": "0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512"
    }
]</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2025-01-22 16:42:59 +0100
</div>
</div>
</body>
</html>