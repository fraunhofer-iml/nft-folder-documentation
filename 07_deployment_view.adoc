[[chapter-deployment-view]]
:docinfo: shared
:toc: left
:toclevels: 3
:sectnums:
:copyright: Open Logistics Foundation License 1.3

= Deployment View

Software does not run without hardware.
This view describes the deployment of the {projectName}.
It describes the technical infrastructure used to execute the {projectName}, with infrastructure elements like clouds, computing nodes, and net topologies as well as other infrastructure elements and the mapping/installation of compiled software building block instances to that infrastructure elements.

== Deployment of the {projectName}

The deployment of the individual components of the {projectName} differs.
For this reason, we will briefly explain how to deploy each component.

=== Blockchain Connector

Since the project-specific Blockchain Connector is deployed within the context of the external project utilizing the {projectName}, detailed discussion regarding it will not be provided here.
However, it's crucial to note that the project-specific Blockchain Connector must have access to the Blockchain. The project-specific blockchain connector must be a Node.js project so that the blockchain connector library can be imported.

Since the Blockchain Connector is a NestJS library, it is used within the project-specific Blockchain Connector.
Instructions on how to import the modules into the project can be found in the https://docs.nestjs.com/[NestJS documentation].
An example demonstrating how a possible project-specific Blockchain Connector (that uses the Blockchain Connector library) can be launched locally is available in the tutorial outlined in <<chapter-tutorial>>.

Regardless of the method used to start the project-specific Blockchain Connector, it's essential to configure the following parameters in the .env file of the project-specific Blockchain Connector project:

Regardless of the method employed to initiate the project-specific Blockchain Connector, it's imperative to configure the following parameters:

* **BLOCKCHAIN_URL**: Specifies the URL of the Blockchain where the Smart Contracts of the {projectName} are deployed.
This Blockchain must be accessible from the machine hosting the Blockchain Connector.

* **PRIVATE_KEY**: The private key of the Blockchain user responsible for signing transactions.

* **CONTAINER_ADDRESS**: The address of the deployed Container contract.
Since each external project maintains its own instance of the Blockchain Connector and the Container Contract, the CONTAINER_ADDRESS can be permanently stored here.

* **TOKEN_ADDRESS**: The address of the deployed Token contract.

* **CONTAINER_ADDRESS**: The abi of the Container Smart Contract to be accessed. Further information on solidity abi can be found under https://docs.soliditylang.org/en/latest/abi-spec.html/[Soldity ABI documentation].

* **SEGMENT_ABI**: The abi of the Segment Smart Contract to be accessed. Further information on solidity abi can be found under https://docs.soliditylang.org/en/latest/abi-spec.html/[Soldity ABI documentation].

* **TOKEN_ABI**: The abi of the Token Smart Contract to be accessed. Further information on solidity abi can be found under https://docs.soliditylang.org/en/latest/abi-spec.html/[Soldity ABI documentation].

* **ENABLE_DEBUG_CONTROLLER**: This flag specifies whether the controllers of the Blockchain Connector library (TokenController, SegmentController, etc.) should be activated so that they can be used.

=== Smart Contracts

The Smart Contracts are deployed on the Blockchain using Hardhat, with deployment scripts included in the Smart Contract project.
Upon executing these scripts via Hardhat, the addresses where the Smart Contracts are deployed on the Blockchain must be entered into the .env file of the Blockchain Connector.
This step ensures that the Blockchain Connector can correctly send the transactions to the appropriate addresses.

=== Quorum Blockchain

The Smart Contracts are deployed on the Quorum Blockchain.
This Blockchain comprises multiple nodes operating decentrally on separate servers.
A minimum of 3 nodes is required to initialize the Quorum Blockchain, which can be initiated on a server and expanded with additional nodes on different servers.
Furthermore, it is feasible to run a Quorum node within a Kubernetes environment.
